USEVAR LEDIDX
OUT16 $0000
DIM D(24)
RESTORE BARLED:FOR I=0 TO 24:D(24-I)=READ():NEXT
INTERRUPT TIMER,ISRTMR
USETIMER 1000
A=0
B=0
PLAYWAVE "BUTTON.WAV"
DO
  WAIT 10
  WHILE INKEY()=0:WEND
  A=A+1
  SOUND 10000+A
  IF INKEY(13)=1 THEN BREAK
  IF A>=24 THEN BREAK
LOOP


IF A=24 THEN
  PLAYWAVE "GOKAKU.WAV"
  WHILE PLAYWAVE(0)>0:WEND
  PLAYWAVE "OMEGOZA.WAV"
ELSEIF A>20 THEN
  PLAYWAVE "ZANNENDE.WAV"
  WHILE PLAYWAVE(0)>0:WEND
  PLAYWAVE "MOUHITO.WAV"
ELSE
  PLAYWAVE "FUGOKAKU.WAV"
  WHILE PLAYWAVE(0)>0:WEND
  PLAYWAVE "ZANNEN.WAV"
ENDIF

WAIT 30
WHILE INKEY()=1:WEND
WHILE INKEY()=0:WEND
OUT16 $0000
END

LABEL ISRTMR
  OUT16 D(B) 
  B=B+1
  IF B>A THEN B=0
RETURN

LABEL BARLED
DATA $1F02,$3702,$3D02,$2F01,$3B01,$3E01,
     $1F80,$3780,$3D80,$2F40,$3B40,$3E40,
     $1F20,$3720,$3D20,$2F10,$3B10,$3E10,
     $1F08,$3708,$3D08,$2F04,$3B04,$3E04

10000 DATA $50800,1
10001 DATA $507E0,1
10002 DATA $507C0,1
10003 DATA $507A0,1
10004 DATA $50780,1
10005 DATA $50760,1
10006 DATA $50740,1
10007 DATA $50720,1
10008 DATA $50700,1
10009 DATA $506E0,1
10010 DATA $506C0,1
10011 DATA $506A0,1
10012 DATA $50680,1
10013 DATA $50660,1
10014 DATA $50640,1
10015 DATA $50620,1
10016 DATA $50600,1
10017 DATA $505E0,1
10018 DATA $505C0,1
10019 DATA $505A0,1
10020 DATA $50580,1
10021 DATA $50560,1
10022 DATA $50540,1
10023 DATA $50520,1
10024 DATA $50500,1
10025 DATA $504E0,1
